"use strict";(globalThis.webpackChunkphysical_humanoid_robotics_book=globalThis.webpackChunkphysical_humanoid_robotics_book||[]).push([[427],{8453(e,n,o){o.d(n,{R:()=>t,x:()=>r});var i=o(6540);const a={},s=i.createContext(a);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(s.Provider,{value:n},e.children)}},8770(e,n,o){o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"modules/module-2/module-2-chapter-2","title":"Gazebo: Physics-Based Simulation for Robotics","description":"Gazebo is a powerful physics-based simulation environment that provides realistic robot simulation capabilities essential for humanoid robot development.","source":"@site/content/modules/module-2/chapter-2.md","sourceDirName":"modules/module-2","slug":"/modules/module-2/module-2-chapter-2","permalink":"/ur/docs/modules/module-2/module-2-chapter-2","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-humanoid-robotics/physical-humanoid-robotics-book/tree/main/packages/create-docusaurus/templates/shared/content/modules/module-2/chapter-2.md","tags":[],"version":"current","frontMatter":{"id":"module-2-chapter-2","title":"Gazebo: Physics-Based Simulation for Robotics","sidebar_label":"Gazebo Simulation"},"sidebar":"tutorialSidebar","previous":{"title":"Digital Twin Basics","permalink":"/ur/docs/modules/module-2/module-2-chapter-1"},"next":{"title":"Unity Simulation","permalink":"/ur/docs/modules/module-2/module-2-chapter-3"}}');var a=o(4848),s=o(8453);const t={id:"module-2-chapter-2",title:"Gazebo: Physics-Based Simulation for Robotics",sidebar_label:"Gazebo Simulation"},r="Gazebo: Physics-Based Simulation for Robotics",l={},c=[{value:"Overview of Gazebo",id:"overview-of-gazebo",level:2},{value:"Installing and Setting Up Gazebo",id:"installing-and-setting-up-gazebo",level:2},{value:"Basic Gazebo World",id:"basic-gazebo-world",level:2},{value:"Gazebo Plugins for Humanoid Robots",id:"gazebo-plugins-for-humanoid-robots",level:2},{value:"Joint Control Plugin",id:"joint-control-plugin",level:3},{value:"Sensor Plugins",id:"sensor-plugins",level:3},{value:"Launching Gazebo with ROS 2",id:"launching-gazebo-with-ros-2",level:2},{value:"Advanced Gazebo Features for Humanoid Robots",id:"advanced-gazebo-features-for-humanoid-robots",level:2},{value:"Contact Sensors",id:"contact-sensors",level:3},{value:"Terrain Simulation",id:"terrain-simulation",level:3},{value:"Exercise: Create a Simple Humanoid World",id:"exercise-create-a-simple-humanoid-world",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"gazebo-physics-based-simulation-for-robotics",children:"Gazebo: Physics-Based Simulation for Robotics"})}),"\n",(0,a.jsx)(n.p,{children:"Gazebo is a powerful physics-based simulation environment that provides realistic robot simulation capabilities essential for humanoid robot development."}),"\n",(0,a.jsx)(n.h2,{id:"overview-of-gazebo",children:"Overview of Gazebo"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo provides:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Physics Simulation"}),": Accurate simulation of rigid body dynamics"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sensor Simulation"}),": Realistic models for cameras, LIDAR, IMU, etc."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Rendering"}),": High-quality 3D visualization"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Plugins"}),": Extensible architecture for custom functionality"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"ROS Integration"}),": Seamless integration with ROS/ROS2"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"installing-and-setting-up-gazebo",children:"Installing and Setting Up Gazebo"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install Gazebo (Fortress version for ROS 2 Humble)\nsudo apt install ros-humble-gazebo-ros-pkgs ros-humble-gazebo-plugins ros-humble-gazebo-dev\n\n# Verify installation\ngz sim --version\n"})}),"\n",(0,a.jsx)(n.h2,{id:"basic-gazebo-world",children:"Basic Gazebo World"}),"\n",(0,a.jsx)(n.p,{children:"Creating a basic world file for humanoid robot simulation:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="humanoid_world">\n    \x3c!-- Include the sun --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Add ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Physics engine configuration --\x3e\n    <physics name="1ms" type="ignored">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n      <real_time_update_rate>1000.0</real_time_update_rate>\n    </physics>\n\n    \x3c!-- Your humanoid robot will be spawned here --\x3e\n  </world>\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"gazebo-plugins-for-humanoid-robots",children:"Gazebo Plugins for Humanoid Robots"}),"\n",(0,a.jsx)(n.h3,{id:"joint-control-plugin",children:"Joint Control Plugin"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'\x3c!-- In your robot\'s URDF/XACRO --\x3e\n<gazebo>\n  <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">\n    <robotNamespace>/my_humanoid</robotNamespace>\n    <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>\n  </plugin>\n</gazebo>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"sensor-plugins",children:"Sensor Plugins"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'\x3c!-- IMU sensor for balance control --\x3e\n<gazebo reference="imu_link">\n  <sensor name="imu_sensor" type="imu">\n    <always_on>true</always_on>\n    <update_rate>100</update_rate>\n    <visualize>true</visualize>\n    <imu>\n      <angular_velocity>\n        <x>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>2e-4</stddev>\n          </noise>\n        </x>\n        <y>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>2e-4</stddev>\n          </noise>\n        </y>\n        <z>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>2e-4</stddev>\n          </noise>\n        </z>\n      </angular_velocity>\n      <linear_acceleration>\n        <x>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>1.7e-2</stddev>\n          </noise>\n        </x>\n        <y>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>1.7e-2</stddev>\n          </noise>\n        </y>\n        <z>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>1.7e-2</stddev>\n          </noise>\n        </z>\n      </linear_acceleration>\n    </imu>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"launching-gazebo-with-ros-2",children:"Launching Gazebo with ROS 2"}),"\n",(0,a.jsx)(n.p,{children:"Creating a launch file for your humanoid robot in Gazebo:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# launch/humanoid_gazebo.launch.py\nimport os\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom ament_index_python.packages import get_package_share_directory\n\ndef generate_launch_description():\n    # Launch arguments\n    use_sim_time = LaunchConfiguration('use_sim_time', default='true')\n\n    # Get paths\n    pkg_gazebo_ros = get_package_share_directory('gazebo_ros')\n    pkg_humanoid_description = get_package_share_directory('my_humanoid_description')\n\n    # Gazebo launch\n    gazebo = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource(\n            os.path.join(pkg_gazebo_ros, 'launch', 'gazebo.launch.py'),\n        )\n    )\n\n    # Robot state publisher\n    robot_state_publisher = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        name='robot_state_publisher',\n        output='screen',\n        parameters=[{'use_sim_time': use_sim_time}],\n    )\n\n    # Spawn robot in Gazebo\n    spawn_entity = Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=[\n            '-topic', 'robot_description',\n            '-entity', 'my_humanoid',\n            '-x', '0.0',\n            '-y', '0.0',\n            '-z', '1.0'\n        ],\n        output='screen'\n    )\n\n    return LaunchDescription([\n        DeclareLaunchArgument(\n            'use_sim_time',\n            default_value='true',\n            description='Use simulation (Gazebo) clock if true'\n        ),\n        gazebo,\n        robot_state_publisher,\n        spawn_entity\n    ])\n"})}),"\n",(0,a.jsx)(n.h2,{id:"advanced-gazebo-features-for-humanoid-robots",children:"Advanced Gazebo Features for Humanoid Robots"}),"\n",(0,a.jsx)(n.h3,{id:"contact-sensors",children:"Contact Sensors"}),"\n",(0,a.jsx)(n.p,{children:"For foot contact detection in walking robots:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Contact sensor for foot --\x3e\n<gazebo reference="left_foot">\n  <sensor name="left_foot_contact" type="contact">\n    <always_on>true</always_on>\n    <update_rate>100</update_rate>\n    <contact>\n      <collision>left_foot_collision</collision>\n    </contact>\n    <visualize>false</visualize>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"terrain-simulation",children:"Terrain Simulation"}),"\n",(0,a.jsx)(n.p,{children:"Creating realistic terrain for humanoid locomotion:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"\x3c!-- Uneven terrain for walking practice --\x3e\n<surface>\n  <friction>\n    <ode>\n      <mu>1.0</mu>\n      <mu2>1.0</mu2>\n      <slip1>0.0</slip1>\n      <slip2>0.0</slip2>\n    </ode>\n  </friction>\n</surface>\n"})}),"\n",(0,a.jsx)(n.h2,{id:"exercise-create-a-simple-humanoid-world",children:"Exercise: Create a Simple Humanoid World"}),"\n",(0,a.jsx)(n.p,{children:"Create a Gazebo world file with:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"A humanoid robot model"}),"\n",(0,a.jsx)(n.li,{children:"An uneven terrain"}),"\n",(0,a.jsx)(n.li,{children:"A simple obstacle course"}),"\n",(0,a.jsx)(n.li,{children:"Appropriate lighting and physics settings"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo provides a robust physics-based simulation environment that is essential for humanoid robot development. Its accurate physics simulation, sensor modeling, and ROS integration make it ideal for testing control algorithms and robot behaviors before deployment on real hardware."}),"\n",(0,a.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);